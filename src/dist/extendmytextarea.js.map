{"version":3,"sources":["extendmytextarea.js"],"names":["makeExpandingArea","el","timer","setStyle","auto","Math","abs","parseInt","style","height","scrollHeight","console","log","myptext","outerHTML","delayedResize","clearTimeout","setTimeout","addEventListener","attachEvent","window","VBArray","key","event","keyCode","document","body","onmousemove","onmouseover","onmousewheel","onscroll","onmousedown","onchange","$","css","setmytextareinit","id","value","textarea","getElementById"],"mappings":";CAAA,WAEWA,SAAAA,EAAkBC,GACrBC,IAAAA,EAAQ,KAERC,EAAW,SAASF,EAAIG,GAGtBC,GAAAA,KAAKC,IAAIC,SAASN,EAAGO,MAAMC,QAAUR,EAAGS,cAAgB,EAAG,CAC7DC,QAAQC,IAAIL,SAASN,EAAGO,MAAMC,QAASR,EAAGS,cAE1CT,EAAGO,MAAMC,OAASR,EAAGS,aAAe,EAAI,KACpCG,IAAAA,EAAUZ,EAEdU,QAAQC,IACN,QACAL,SAASN,EAAGO,MAAMC,QAClBR,EAAGS,aACHG,EAAQC,aAIVC,EAAgB,SAASd,GACvBC,IACFc,aAAad,GACbA,EAAQ,MAEVA,EAAQe,WAAW,WACjBd,EAASF,IACR,MAEDA,EAAGiB,kBACLjB,EAAGiB,iBACD,QACA,WACEf,EAASF,KAEX,GAEFE,EAASF,IACAA,EAAGkB,cACZlB,EAAGkB,YAAY,mBAAoB,WACjChB,EAASF,KAEXE,EAASF,IAEPmB,OAAOC,SAAWD,OAAOF,mBAE3BjB,EAAGkB,YAAY,YAAa,WACtBG,IAAAA,EAAMF,OAAOG,MAAMC,QACZ,GAAPF,GAAmB,IAAPA,GAAWP,EAAcd,KAE3CA,EAAGkB,YAAY,QAAS,WACtBJ,EAAcd,MAGlBwB,SAASC,KAAKC,YAAc,WAC1BZ,EAAcd,IAEhBwB,SAASC,KAAKE,YAAc,WAC1Bb,EAAcd,IAEhBwB,SAASC,KAAKG,aAAe,WAC3Bd,EAAcd,IAEhBwB,SAASC,KAAKI,SAAW,WACvBf,EAAcd,IAEhBwB,SAASC,KAAKK,YAAc,WAC1BhB,EAAcd,IAEhBA,EAAG+B,SAAW,WACZjB,EAAcd,IAEhBA,EAAGiB,iBAAiB,QAAS,WAC3BH,EAAcd,KA1EhBgC,EAAE,SAASC,IAAI,cAAeD,EAAE,UAAUxB,UAoFnC0B,WAAoBC,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAI,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAJA,EAAI,GAAA,UAAA,GACjBA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAI,EAAA,EAAA,OAAA,IAAA,CAAbC,MAAa,EAAA,GACZC,IAAAA,EAAWb,SAASc,eAAeF,OACvCC,EAAS5B,aAAe,GACxB4B,EAAS9B,MAAMC,OAAS,OACxBT,EAAkBsC,IAPtBH,CAAiB,KAAM,MAAO,SAAU,WAnF1C","file":"extendmytextarea.js","sourceRoot":"..","sourcesContent":["(() => {\r\n    $('#my主体').css('padding-top', $('#my导航栏').height())\r\n  function makeExpandingArea(el) {\r\n    var timer = null;\r\n    //由于ie8有溢出堆栈问题，故调整了这里\r\n    var setStyle = function(el, auto) {\r\n      // if (auto) el.style.height = 'auto';\r\n\r\n      if (Math.abs(parseInt(el.style.height) - el.scrollHeight) > 5) {\r\n        console.log(parseInt(el.style.height), el.scrollHeight);\r\n\r\n        el.style.height = el.scrollHeight + 3 + \"px\";\r\n        var myptext = el;\r\n        // console.log(\"拉伸文本框\",el.outerHTML)\r\n        console.log(\r\n          \"拉伸文本框\",\r\n          parseInt(el.style.height),\r\n          el.scrollHeight,\r\n          myptext.outerHTML\r\n        );\r\n      }\r\n    };\r\n    var delayedResize = function(el) {\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      timer = setTimeout(function() {\r\n        setStyle(el);\r\n      }, 200);\r\n    };\r\n    if (el.addEventListener) {\r\n      el.addEventListener(\r\n        \"input\",\r\n        function() {\r\n          setStyle(el, 1);\r\n        },\r\n        false\r\n      );\r\n      setStyle(el);\r\n    } else if (el.attachEvent) {\r\n      el.attachEvent(\"onpropertychange\", function() {\r\n        setStyle(el);\r\n      });\r\n      setStyle(el);\r\n    }\r\n    if (window.VBArray && window.addEventListener) {\r\n      //IE9\r\n      el.attachEvent(\"onkeydown\", function() {\r\n        var key = window.event.keyCode;\r\n        if (key == 8 || key == 46) delayedResize(el);\r\n      });\r\n      el.attachEvent(\"oncut\", function() {\r\n        delayedResize(el);\r\n      }); //处理粘贴\r\n    }\r\n    document.body.onmousemove = function() {\r\n      delayedResize(el);\r\n    };\r\n    document.body.onmouseover = function() {\r\n      delayedResize(el);\r\n    };\r\n    document.body.onmousewheel = function() {\r\n      delayedResize(el);\r\n    };\r\n    document.body.onscroll = function() {\r\n      delayedResize(el);\r\n    };\r\n    document.body.onmousedown = function() {\r\n      delayedResize(el);\r\n    };\r\n    el.onchange = function() {\r\n      delayedResize(el);\r\n    };\r\n    el.addEventListener(\"click\", function() {\r\n      delayedResize(el);\r\n    });\r\n  }\r\n\r\n  //   var textarea = document.getElementById('tp');\r\n  //   textarea.scrollHeight = 60\r\n  //   textarea.style.height = \"60px\"\r\n  //   makeExpandingArea(textarea);\r\n  setmytextareinit(\"tp\", \"tp2\", \"tp-big\", \"tp2-big\");\r\n\r\n  function setmytextareinit(...id) {\r\n    for (value of id) {\r\n      var textarea = document.getElementById(value);\r\n      textarea.scrollHeight = 60;\r\n      textarea.style.height = \"60px\";\r\n      makeExpandingArea(textarea);\r\n    }\r\n  }\r\n})();\r\n"]}